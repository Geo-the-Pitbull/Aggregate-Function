<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><% page_title %></title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>
<style>
body {
    margin-top: 20px; 
    background-color: plum;  
}
table {
  margin: auto;
  width: 90%;
}
thead {
  padding: 10px;
  text-align: center;
  font-size: 20px;
}
th {
  border: 1px solid red;
  background-color: lightpink;
}
tr {
  height: 25px;
  background-color: lightgoldenrodyellow;
}
td {
  border: 1px solid purple;
  padding: 5px;
  text-align: left;
  width: fit-content;
}
</style>
<body>
    <div class="container">
        <div class="jumbotron">
             <h1>AGGREGATE FUNCTIONS</h1>
             <h2>Store Statistics - A Store</h2>
             <br><br>

             <h3>CUSTOMERS</h3>
             <table>
                <thead>
                    <tr>
                        <th>Customer ID</th>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>City</th>
                        <th>State</th>
                </thead>
                <tbody>
                    <% if(customer_table.length){
                       
                    for(var i = 0; i< customer_table.length; i++) {%>  
                        <tr>
                            <th><%= customer_table[i].customer_id %></th>
                            <td><%= customer_table[i].frst_nm%></td>
                            <td><%= customer_table[i].lst_nm%></td>
                            <td><%= customer_table[i].city%></td>
                            <td><%= customer_table[i].state%></td>
                        </tr>
                        <% }
                                 
                        }else{ %>
                             <tr>
                                <td colspan="5">NO DATA!!</td>
                             </tr>
                        <% } %>   
                </tbody>
            </table> 
            <br><br>

            <h3>ITEMS</h3>
             <table>
                <thead>
                    <tr>
                        <th>Customer ID</th>
                        <th>Order Date</th>
                        <th>Item</th>
                        <th>Quantity</th>
                        <th>Price</th>
                </thead>
                <tbody>
                    <% if(product_table.length){
                       
                    for(var i = 0; i< product_table.length; i++) {%>  
                        <tr>
                            <th><%= product_table[i].customer_id %></th>
                            <td><%= product_table[i].order_dt.toLocaleDateString('en-US') %></td>
                            <td><%= product_table[i].item%></td>
                            <td><%= product_table[i].quantity%></td>
                            <td><%= product_table[i].price%></td>
                        </tr>
                        <% }
                                 
                        }else{ %>
                             <tr>
                                <td colspan="5">NO DATA!!</td>
                             </tr>
                        <% } %>   
                </tbody>
            </table> 
            <br><br>
            
            <ul>
                <li><b>Customer Count :</b> <%= Customers %></li><br>
                <li><b>Purchases Count :</b> <%= Items %></li><br>
                <li><b>Total Cost :</b> $<%= profit %></li><br>
                <li><b>Average Price :</b> $<%= price_average.toFixed(2) %></li><br>
                <li><b>Minimum Quantity :</b> <%= lowest_quant %></li><br>
                <li><b>Maximum Quantity :</b> <%= highest_quant %></li><br>
            </ul>
        </div>
    </div>
</body>
</html>